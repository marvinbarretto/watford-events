<header class="header">
  <div class="header__container">
    <!-- Logo/Branding -->
    <div class="header__brand">
      <a routerLink="/" class="header__logo">
        <h1>Watford Events</h1>
      </a>
    </div>

    <!-- Navigation -->
    <nav class="header__nav">
      <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">Home</a>
      <a routerLink="/events" routerLinkActive="active">Events</a>
      
      <!-- Examples Dropdown -->
      <div class="header__dropdown">
        <button class="header__dropdown-btn" (click)="toggleExamplesDropdown()" type="button">
          Examples
          <span class="dropdown-arrow" [class.open]="showExamplesDropdown">‚ñº</span>
        </button>
        <div class="header__dropdown-menu" [class.show]="showExamplesDropdown">
          <div class="dropdown-section">
            <h3>Web Examples</h3>
            <a routerLink="/examples/web-dashboard" (click)="closeDropdown()">Web Dashboard</a>
            <a routerLink="/examples/web-form" (click)="closeDropdown()">Web Form</a>
          </div>
          <div class="dropdown-section">
            <h3>Mobile Examples</h3>
            <a routerLink="/examples/mobile-dashboard" (click)="closeDropdown()">Mobile Dashboard</a>
            <a routerLink="/examples/mobile-form" (click)="closeDropdown()">Mobile Form</a>
            <a routerLink="/examples/mobile-actions" (click)="closeDropdown()">Mobile Actions</a>
          </div>
          <div class="dropdown-section">
            <h3>Fullscreen Examples</h3>
            <a routerLink="/examples/fullscreen-onboarding" (click)="closeDropdown()">Onboarding</a>
            <a routerLink="/examples/fullscreen-welcome" (click)="closeDropdown()">Welcome</a>
          </div>
          <div class="dropdown-section">
            <h3>Flyer Parser</h3>
            <a routerLink="/examples/flyer-demo" (click)="closeDropdown()">Flyer Demo</a>
          </div>
        </div>
      </div>
    </nav>

    <!-- Actions -->
    <div class="header__actions">
      <!-- Theme Toggle -->
      <button 
        class="header__theme-toggle"
        (click)="onThemeToggle()"
        [attr.aria-label]="themeStore.isDark() ? 'Switch to light theme' : 'Switch to dark theme'"
        type="button">
        @if (themeStore.isDark()) {
          ‚òÄÔ∏è
        } @else {
          üåô
        }
      </button>

      <!-- Auth -->
      <div class="header__auth">
        @if (authStore.isAuthenticated()) {
          <div class="header__user">
            <span class="header__username">{{ authStore.user()?.displayName }}</span>
            <button 
              class="header__logout-btn"
              (click)="onLogout()"
              type="button">
              Logout
            </button>
          </div>
        } @else {
          <button 
            class="header__login-btn"
            (click)="onLogin()"
            type="button">
            Login
          </button>
        }
      </div>
    </div>
  </div>
</header>